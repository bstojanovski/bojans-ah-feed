function validCities(e){let i=e.toString().split(",")[0];return i}function validPrices(e){parseInt(e.toString().split(",")[0]);let i=parseInt(e.toString().split(",")[1]);return i}function refreshData(e,i,t){let s="?query="+e+"&city="+i+"&price="+t;window.location.href=window.location.pathname+s}function search(e){"Enter"===event.key&&refreshData(e.value,cities,prices)}let urlParams=new URLSearchParams(window.location.search),query=urlParams.get("query"),cities=urlParams.get("city"),prices=urlParams.get("price");$(document).ready(function(){num.value=prices?prices.split(",")[1]:35e4,$('select[name="city"]').select2(),$(document.body).on("change",'select[name="city"]',function(e){selectedCities=$(this).select2("val"),validCities(selectedCities)&&validPrices(prices)?("all"==cities&&selectedCities.includes("all")&&selectedCities.splice(0,1),selectedCities.includes("all")&&(cities="all",selectedCities="all"),refreshData(query,selectedCities,prices)):(cities="all",selectedCities="all",refreshData(query,selectedCities,prices))}),$(document.body).on("change",'input[name="price"]',function(){prices=parseInt(prices.toString().split(",")[0])+","+$(this).val(),validCities(cities)&&validPrices(prices)&&refreshData(query,cities,prices)})});